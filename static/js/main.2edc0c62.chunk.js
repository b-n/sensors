(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,n){e.exports=n(286)},111:function(e,t,n){},279:function(e,t,n){},281:function(e,t,n){},283:function(e,t,n){},286:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(102),c=n.n(i),o=(n(111),n(20)),l={apiEndpoint:"https://bnb7g0g5g1.execute-api.eu-central-1.amazonaws.com/dev/thing/"},u=function(e){var t=Object(a.useState)(null),n=Object(o.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)(function(){fetch(l.apiEndpoint+e,{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){i(e)})},[]),r},m=n(103),s=n.n(m),d=n(8),p=n(105),f=n(104),h=n(21),g=n(2),b=n(12),E=n(19),O=n(57),v=n(56),w=function(e){var t=e.scale,n=e.transform,i=e.gridline,c=e.className,o=e.ticks,l=e.tickFormat,u=Object(a.useRef)(null);return Object(a.useEffect)(function(){Object(v.a)(u.current).call(Object(O.a)().scale(t).ticks(o).tickFormat(l))},[].concat(Object(E.a)(t.domain()),Object(E.a)(t.range()))),r.a.createElement(d.Group,{transform:n,className:c},i&&t.ticks(o).map(function(e){return r.a.createElement(d.Line,{key:e,x1:t(e),x2:t(e),y1:-i,y2:0,className:"gridline"})}),r.a.createElement("g",{ref:u}))},j=function(e){var t=e.scale,n=e.transform,i=e.gridline,c=e.className,o=e.ticks,l=e.tickFormat,u=Object(a.useRef)(null);return Object(a.useEffect)(function(){Object(v.a)(u.current).call(Object(O.b)().scale(t).ticks(o).tickFormat(l))},[].concat(Object(E.a)(t.domain()),Object(E.a)(t.range()))),r.a.createElement(d.Group,{transform:n,className:c},i&&t.ticks(o).filter(function(e,t){return 0!==t}).map(function(e,n){return r.a.createElement(d.Line,{key:e,x1:0,x2:i,y1:t(e),y2:t(e),className:"gridline"})}),r.a.createElement("g",{ref:u}))},y=(n(279),n(34)),k=function(e){var t=e.from,n=e.to,r=e.interpolator,i=Object(y.b)(r).domain([t,n]);return Object(a.useEffect)(function(){i.domain([t,n])},[t,n]),i},x=function(e){var t=e.transform,n=e.width,i=e.height,c=e.date,o=e.data,l=e.yScale,u=e.ppmColorScale,m=function(e){var t=e.from,n=e.to,r=e.width,i=Object(y.c)().domain([t,n]).range([0,r]);return Object(a.useEffect)(function(){i.range([0,r])},[r]),i}({width:n,from:Object(h.addHours)(c,6),to:Object(h.addHours)(c,20)}),s=l.domain()[0],E="clip-".concat(c),O="url(#".concat(E,")");return r.a.createElement(d.Group,{transform:t},r.a.createElement(d.Text,{y:-2,x:5},Object(h.format)(c,"ddd\tDD\tMMM")),r.a.createElement(w,{scale:m,transform:{translate:[0,i]},gridline:i,className:"x-axis",ticks:g.b.every(1),tickFormat:Object(b.a)("%H:%M")}),r.a.createElement(j,{scale:l,gridline:n,className:"y-axis",ticks:7}),r.a.createElement(d.Group,{className:"plot"},r.a.createElement("clipPath",{id:E},r.a.createElement(d.Rect,{width:n,height:i})),r.a.createElement(f.Collection,{data:o,nodeEnter:function(e){return Object(p.a)({},e,{median:s,upper:s,lower:s})},animate:!0},function(e){return e.map(function(e){var t=e.key,n=e.date,i=e.median,c=e.lower,o=e.upper,s=m(new Date(n));return r.a.createElement(a.Fragment,{key:t},r.a.createElement(d.Line,{x1:s,x2:s,y1:l(c),y2:l(o),clipPath:O}),r.a.createElement(d.Circle,{cx:s,cy:l(i),r:3,fill:u(i),stroke:"grey",strokeWidth:"1px",clipPath:O}))})})))},C=n(3),N=n(33),S=function(e){var t=e.data,n=e.width,i=function(e){var t=e.data,n=e.interval,r=Object(a.useState)({min:0,max:0,data:[]}),i=Object(o.a)(r,2),c=i[0],l=i[1],u=60*n;return Object(a.useEffect)(function(){var e=[],n=Object.keys(t).map(function(n){var a=new Date(n+"T00:00:00"),r=t[n].reduce(function(e,t){var n=t.timestamp+Object(h.differenceInSeconds)(a,t.timestamp)%u*1e3;return e[n]||(e[n]=[]),e[n].push(t),e},{}),i=Object.keys(r).map(function(e){return r[e].sort(function(e,t){return e.ppm-t.ppm}),{key:e,date:+e,mean:Object(C.mean)(r[e],function(e){return e.ppm}),max:Object(C.quantile)(r[e],1,function(e){return e.ppm}),upper:Object(C.quantile)(r[e],.75,function(e){return e.ppm}),median:Object(C.quantile)(r[e],.5,function(e){return e.ppm}),lower:Object(C.quantile)(r[e],.25,function(e){return e.ppm}),min:Object(C.quantile)(r[e],0,function(e){return e.ppm})}});return e.push.apply(e,Object(E.a)(Object(C.extent)(i,function(e){return e.mean}))),{date:n,data:i}}).sort(function(e,t){return e.date>=t.date?e.date>t.date?-1:0:1}),a=Object(C.extent)(e);l({min:a[0],max:a[1],data:n})},[t]),c}({data:t.data,interval:10}),c=i.max-i.min,l=i.min,u=i.max,m=30,s=50,p={width:n-s-30,height:140},f=m+0+i.data.length*(p.height+60),g=function(e){var t=e.from,n=e.to,r=e.height,i=Object(y.a)().domain([t,n]).range([r,0]);return Object(a.useEffect)(function(){i.domain([t,n]).range([r,0])},[t,n,r]),i}({height:p.height,from:l-.03*c,to:u+.03*c}),b=k({interpolator:N.a,to:400,from:1200});return r.a.createElement(d.Svg,{height:f,width:n},i.data.length>0?i.data.map(function(e,t){return r.a.createElement(x,Object.assign({transform:{translate:[s,t*(p.height+60)+m]}},p,{key:e.date,date:e.date,data:e.data,yScale:g,ppmColorScale:b}))}):null)},G=(n(281),function(e){var t=e.children;return r.a.createElement("table",{className:"info-legend"},r.a.createElement("tbody",null,t))}),I=function(e){var t=e.color,n=e.range,a=e.explanation;return r.a.createElement("tr",null,r.a.createElement("td",{className:"info-legend-range"},r.a.createElement("span",{className:"dot",style:{backgroundColor:t}}),n),r.a.createElement("td",{className:"info-legend-description"},a))},F=function(){var e=k({interpolator:N.a,to:400,from:1200});return r.a.createElement("section",{className:"info-container"},r.a.createElement("h1",null,"Information"),r.a.createElement("p",null,"The graph to the right measures the average Carbon Dioxide (CO",r.a.createElement("sub",null,"2"),") concentration near the sensor in the office. And reads the values in Parts Per Million (ppm)"),r.a.createElement("p",null,"CO",r.a.createElement("sub",null,"2")," is a colorless gas with a density about 60% higher than that of dry air. The current global concentration is about 410 ppm, having risen from pre-industrial levels of 280 ppm. CO",r.a.createElement("sub",null,"2")," is produced by all aerobic organisms (things that breathe air) when they metabolize carbohydrates and lipids (fats etc) to produce energy by respiration."),r.a.createElement("p",null,"CO",r.a.createElement("sub",null,"2")," levels outside of buildings can range from 380-500ppm. At very high concentrations (10.000ppm), CO",r.a.createElement("sub",null,"2")," becomes toxic to animals. Raising the concentration to 10.000ppm for several hours will kill spider mites and whiteflies in a greenhouse."),r.a.createElement("p",null,"Relative to 600 ppm, at 1,000 ppm CO2, moderate and statistically significant decrements occurred in six of nine scales of decision-making performance",r.a.createElement("a",{href:"https://web.archive.org/web/20160305212909/http://ehp.niehs.nih.gov/wp-content/uploads/2012/09/ehp.1104789.pdf",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("sup",null,"[ref]")),". In a study of Volatile Organic Compound Exposure (VOC), of which CO",r.a.createElement("sub",null,"2"),"is one, average cognitive scores were 61% higher on the Green building day (~740ppm) and 101% higher on the two Green+ (~502ppm) building days than on the Conventional building day (~940ppm) ",r.a.createElement("a",{href:"https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4892924/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("sup",null,"[ref]")),"."),r.a.createElement("h2",null,"Legend"),r.a.createElement(G,null,r.a.createElement(I,{color:e(500),range:"400-600",explanation:"Ideal"}),r.a.createElement(I,{color:e(700),range:"600-800",explanation:"Okay, mild cognitive impairment"}),r.a.createElement(I,{color:e(900),range:"800-1000",explanation:"Some cognitive impairment"}),r.a.createElement(I,{color:e(1100),range:"1000-1200",explanation:"Open some windows already"}),r.a.createElement(I,{color:e(1300),range:"1200+",explanation:"Illegal in South Netherlands (Belgium)"})),r.a.createElement("h2",null,"Graph Info"),r.a.createElement("p",null,"Readings are taken every 1 minute from the device. If the value doesn't change, then no value is plotted. Values are summarised into 10 minute intervals, where the points represent the median value in that 10 minutes. The black lines indicate the upper and lower quartile of the values in the 10 minutes to show the variablility in the readings."))},T=(n(283),function(e){var t=u("breather"),n=function(){var e=Object(a.useState)(window.innerWidth),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)(function(){window.addEventListener("resize",s()(function(){r(window.innerWidth)},500))},[]),n}();return r.a.createElement(a.Fragment,null,r.a.createElement("section",null,null!==t?r.a.createElement(S,{data:t,width:.65*n}):null),r.a.createElement(F,null))}),q=function(e){return r.a.createElement("div",{className:"App"},r.a.createElement(T,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[106,2,1]]]);
//# sourceMappingURL=main.2edc0c62.chunk.js.map