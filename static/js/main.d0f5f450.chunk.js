(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){e.exports=a(278)},107:function(e,t,a){},275:function(e,t,a){},278:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),c=a(99),i=a.n(c),o=(a(107),a(20)),l={apiEndpoint:"https://bnb7g0g5g1.execute-api.eu-central-1.amazonaws.com/dev/thing/"},s=function(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)(function(){fetch(l.apiEndpoint+e,{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){c(e)})},[]),r},m=a(6),u=a(54),d=a(100),f=a(15),p=function(e){var t=e.scale,a=e.transform,c=e.gridline,i=e.className,o=t.domain()[0],l=t.domain()[1],s=t.range()[1],u=new Array(Object(f.differenceInHours)(l,o)).fill(0).map(function(e,t){return Object(f.addHours)(o,t)}).concat(l);return r.a.createElement(m.Group,{transform:a,className:i},r.a.createElement(m.Line,{x1:0,y1:0,x2:s,y2:0,stroke:"black",strokeWidth:1,className:"axis"}),u.map(function(e,a){var i=t(e);return r.a.createElement(n.Fragment,{key:a},r.a.createElement(m.Line,{x1:i,x2:i,y1:0,y2:5,className:"tick"}),r.a.createElement(m.Text,{className:"tick-label",x:i,y:13,textAnchor:a>0?a<u.length-1?"middle":"end":"start"},Object(f.format)(e,"HH:mm")),void 0===c?null:r.a.createElement(m.Line,{x1:i,x2:i,y1:-c,y2:0,className:"gridline"}))}))},h=function(e){var t=e.scale,a=e.transform,c=e.gridline,i=e.className,o=t.domain(),l=t.range();return r.a.createElement(m.Group,{transform:a,className:i},r.a.createElement(m.Line,{x1:0,x2:0,y1:l[0],y2:l[1],stroke:"black",strokeWidth:1}),o.map(function(e,a){var i=t(e);return r.a.createElement(n.Fragment,{key:a},r.a.createElement(m.Line,{x1:0,x2:-5,y1:i,y2:i,stroke:"black",strokeWidth:1,className:"tick"}),r.a.createElement(m.Text,{className:"tick-label",x:-7,y:i,textAnchor:"end",alignmentBaseline:"central"},e),void 0===c?null:r.a.createElement(m.Line,{x1:0,x2:c,y1:i,y2:i,className:"gridline"}))}))},E=(a(275),a(53)),b=function(e){var t=e.x,a=e.y,c=e.width,i=e.height,l=e.date,s=e.data,b=function(e){var t=e.from,a=e.to,r=e.width,c=Object(n.useState)({scale:Object(E.b)().domain([t,a])}),i=Object(o.a)(c,2),l=i[0],s=i[1];return Object(n.useEffect)(function(){s({scale:l.scale.range([0,r])})},[r]),l.scale}({width:c,from:Object(f.addHours)(l,0),to:Object(f.addHours)(l,24)}),g=function(e){var t=e.from,a=e.to,r=e.height,c=Object(n.useState)({scale:Object(E.a)().domain([t,a])}),i=Object(o.a)(c,2),l=i[0],s=i[1];return Object(n.useEffect)(function(){s({scale:l.scale.range([r,0])})},[r]),l.scale}({height:i,from:400,to:1500}),y=s.map(function(e,t){return Object(u.a)({key:""+t},e,{previousPPM:0===t?e.ppm:s[t-1].ppm,previousTimestamp:0===t?e.timestamp:s[t-1].timestamp})});return console.log(s),r.a.createElement(m.Group,{transform:{translate:[t,a]}},r.a.createElement(m.Text,{y:-2,x:5},Object(f.format)(l,"ddd\tDD\tMMM")),r.a.createElement(p,{scale:b,transform:{translate:[0,100]},gridline:100,className:"x-axis"}),r.a.createElement(h,{scale:g,gridline:c,className:"y-axis"}),r.a.createElement(m.Group,{className:"plot"},r.a.createElement(d.Collection,{data:y,nodeEnter:function(e){return Object(u.a)({},e,{ppm:0,previousPPM:0})},animate:!0},function(e){return e.map(function(e){var t=e.key,a=e.ppm,c=e.previousPPM,i=e.timestamp,o=e.previousTimestamp,l=b(new Date(i)),s=g(a),u={x1:l,x2:b(new Date(o)),y1:s,y2:g(c)};return r.a.createElement(n.Fragment,{key:t},r.a.createElement(m.Circle,{cx:l,cy:s,r:2,fill:"black"}),r.a.createElement(m.Line,Object.assign({},u,{className:"plot"})))})})))},g=function(e){var t=e.data,a=e.width,n=Object.keys(t.data).map(function(e){return{date:e,data:t.data[e]}});console.log(n);var c=30,i=50,o=30,l=c+0+160*n.length;return r.a.createElement(m.Svg,{height:l,width:a},n.length>0?n.map(function(e,t){return r.a.createElement(b,{x:i,y:160*t+c,width:a-i-o,height:100,key:e.date,date:e.date,data:e.data})}):null)},y=a(101),x=a.n(y),v=function(e){var t=s("breather"),a=function(){var e=Object(n.useState)(window.innerWidth),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)(function(){window.addEventListener("resize",x()(function(){r(window.innerWidth)},500))},[]),a}();return console.log(t),r.a.createElement("div",null,r.a.createElement("section",null,null!==t?r.a.createElement(g,{data:t,width:a}):null))},w=function(e){return r.a.createElement("div",{className:"App"},r.a.createElement(v,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[102,2,1]]]);
//# sourceMappingURL=main.d0f5f450.chunk.js.map