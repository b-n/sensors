(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){e.exports=a(279)},108:function(e,t,a){},276:function(e,t,a){},279:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),c=a(99),o=a.n(c),i=(a(108),a(15)),l={apiEndpoint:"https://bnb7g0g5g1.execute-api.eu-central-1.amazonaws.com/dev/thing/"},s=function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)(function(){fetch(l.apiEndpoint+e,{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){c(e)})},[]),r},m=a(8),u=a(54),d=a(100),f=a(16),p=function(e){var t=e.scale,a=e.transform,c=e.gridline,o=e.className,i=t.domain()[0],l=t.domain()[1],s=t.range()[1],u=new Array(Object(f.differenceInHours)(l,i)).fill(0).map(function(e,t){return Object(f.addHours)(i,t)}).concat(l);return r.a.createElement(m.Group,{transform:a,className:o},u.map(function(e,a){var o=t(e);return r.a.createElement(n.Fragment,{key:a},r.a.createElement(m.Line,{x1:o,x2:o,y1:0,y2:5,className:"tick"}),r.a.createElement(m.Text,{className:"tick-label",x:o,y:13,textAnchor:a>0?a<u.length-1?"middle":"end":"start"},Object(f.format)(e,"HH:mm")),void 0===c||0===a?null:r.a.createElement(m.Line,{x1:o,x2:o,y1:-c,y2:0,className:"gridline"}))}),r.a.createElement(m.Line,{x1:0,y1:0,x2:s,y2:0,stroke:"black",strokeWidth:1,className:"axis"}))},h=function(e){var t=e.scale,a=e.transform,c=e.gridline,o=e.className,i=t.domain(),l=i[0],s=i[1]-i[0],u=t.range();return r.a.createElement(m.Group,{transform:a,className:o},new Array(6).fill(0).map(function(e,a){var o=l+a*s/5|0,i=t(o);return r.a.createElement(n.Fragment,{key:a},r.a.createElement(m.Line,{x1:0,x2:-5,y1:i,y2:i,stroke:"black",strokeWidth:1,className:"tick"}),r.a.createElement(m.Text,{className:"tick-label",x:-7,y:i,textAnchor:"end",alignmentBaseline:"central"},o),void 0===c||0===a?null:r.a.createElement(m.Line,{x1:0,x2:c,y1:i,y2:i,className:"gridline"}))}),r.a.createElement(m.Line,{x1:0,x2:0,y1:u[0],y2:u[1],stroke:"black",strokeWidth:1}))},b=(a(276),a(32)),E=function(e){var t=e.x,a=e.y,c=e.width,o=e.height,l=e.date,s=e.data,E=e.yScale,y=e.ppmColorScale,g=function(e){var t=e.from,a=e.to,r=e.width,c=Object(n.useState)({scale:Object(b.c)().domain([t,a])}),o=Object(i.a)(c,2),l=o[0],s=o[1];return Object(n.useEffect)(function(){s({scale:l.scale.range([0,r])})},[r]),l.scale}({width:c,from:Object(f.addHours)(l,0),to:Object(f.addHours)(l,24)}),j=E.domain()[0],x=s.map(function(e,t){return Object(u.a)({key:""+t},e,{previousPPM:0===t?e.ppm:s[t-1].ppm,previousTimestamp:0===t?e.timestamp:s[t-1].timestamp})});return r.a.createElement(m.Group,{transform:{translate:[t,a]}},r.a.createElement(m.Text,{y:-2,x:5},Object(f.format)(l,"ddd\tDD\tMMM")),r.a.createElement(p,{scale:g,transform:{translate:[0,o]},gridline:o,className:"x-axis"}),r.a.createElement(h,{scale:E,gridline:c,className:"y-axis"}),r.a.createElement(m.Group,{className:"plot"},r.a.createElement(d.Collection,{data:x,nodeEnter:function(e){return Object(u.a)({},e,{ppm:j,previousPPM:j})},animate:!0},function(e){return e.map(function(e){var t=e.key,a=e.ppm,c=e.timestamp,o=g(new Date(c)),i=E(a),l=y(a);return r.a.createElement(n.Fragment,{key:t},r.a.createElement(m.Circle,{cx:o,cy:i,r:2,fill:l}))})})))},y=a(102),g=a(2),j=function(e){var t=e.data,a=e.width,c=Object.keys(t.data).map(function(e){return{date:e,data:t.data[e]}}).sort(function(e,t){return e.date>=t.date?e.date===t.date?0:-1:1}),o=Object(g.extent)(Object.keys(t.data).map(function(e){return Object(g.extent)(t.data[e],function(e){return e.ppm})}).reduce(function(e,t){return e.concat(t)},[])),l=30,s=50,u=30,d=l+0+200*c.length,f=function(e){var t=e.from,a=e.to,r=e.height,c=Object(n.useState)({scale:Object(b.a)().domain([t,a])}),o=Object(i.a)(c,2),l=o[0],s=o[1];return Object(n.useEffect)(function(){s({scale:l.scale.range([r,0])})},[r]),l.scale}({height:140,from:o[0],to:o[1]}),p=function(e){var t=e.from,a=e.to,r=e.interpolator,c=Object(n.useState)({scale:Object(b.b)(r).domain([t,a])}),o=Object(i.a)(c,2),l=o[0],s=o[1];return Object(n.useEffect)(function(){s({scale:l.scale.domain([t,a])})},[t,a]),l.scale}({interpolator:y.a,to:400,from:1200});return r.a.createElement(m.Svg,{height:d,width:a},c.length>0?c.map(function(e,t){return r.a.createElement(E,{x:s,y:200*t+l,width:a-s-u,height:140,key:e.date,date:e.date,data:e.data,yScale:f,ppmColorScale:p})}):null)},x=a(101),O=a.n(x),w=function(e){var t=s("breather"),a=function(){var e=Object(n.useState)(window.innerWidth),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)(function(){window.addEventListener("resize",O()(function(){r(window.innerWidth)},500))},[]),a}();return console.log(t),r.a.createElement("div",null,r.a.createElement("section",null,null!==t?r.a.createElement(j,{data:t,width:a}):null))},v=function(e){return r.a.createElement("div",{className:"App"},r.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[103,2,1]]]);
//# sourceMappingURL=main.aa779e46.chunk.js.map